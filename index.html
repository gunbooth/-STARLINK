<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>STARLINK</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><polygon points='50,0 61.8,35 98.6,35 68.9,57.3 79,91 50,70 21.1,91 31.1,57.3 1.4,35 38.2,35'/></svg>">
  <style>
    :root {
      /* Default (cosmic) */
      --bg: #000000;
      --text: #ffffff;
      --dim: #aaaaaa;
      --star: #ffffff;
      --glow1: rgba(255,255,255,0.9);
      --glow2: rgba(255,255,255,0.55);
      --glow3: rgba(255,255,255,0.13);
      --menu-bg: rgba(255,255,255,0.06);
      --link-border: rgba(255,255,255,0.18);
      --link-bg: rgba(255,255,255,0.04);
      --accent: #00d4ff;
      --search-bg: rgba(20,20,30,0.55);
      --search-border: rgba(0,212,255,0.3);
      --search-focus: rgba(0,212,255,0.45);
      --btn-base-glow: 0 8px 25px rgba(0,0,0,0.5), 0 0 20px rgba(255,255,255,0.3);
      --btn-hover-glow: 0 15px 40px rgba(0,0,0,0.6), 0 0 60px rgba(255,255,255,0.9);
    }

    /* Theme variants — adjust these to tweak palettes */
    body.theme-cosmic { /* default already matches :root */ }

    body.theme-neon {
      --bg:#07000a;
      --text:#e6f7ff;
      --dim:#bcdff5;
      --star:#8effff;
      --glow1: rgba(142,255,255,0.95);
      --glow2: rgba(0,212,255,0.42);
      --glow3: rgba(0,212,255,0.12);
      --menu-bg: rgba(0,212,255,0.06);
      --link-bg: rgba(0,212,255,0.04);
      --link-border: rgba(0,212,255,0.18);
      --accent:#00f0ff;
      --search-bg: rgba(5,5,12,0.6);
      --search-border: rgba(0,212,255,0.25);
      --search-focus: rgba(0,212,255,0.5);
      --btn-base-glow: 0 10px 30px rgba(0,0,0,0.6), 0 0 18px rgba(0,240,255,0.18);
      --btn-hover-glow: 0 18px 50px rgba(0,0,0,0.7), 0 0 80px rgba(0,240,255,0.95);
    }

    body.theme-purple {
      --bg:#0b0514;
      --text:#fff7ff;
      --dim:#dec7f0;
      --star:#f2d9ff;
      --glow1: rgba(255,210,255,0.95);
      --glow2: rgba(200,120,255,0.36);
      --glow3: rgba(150,80,220,0.12);
      --menu-bg: rgba(120,60,160,0.06);
      --link-bg: rgba(120,60,160,0.04);
      --link-border: rgba(200,120,255,0.12);
      --accent:#9b6bff;
      --search-bg: rgba(18,8,25,0.6);
      --search-border: rgba(155,107,255,0.22);
      --search-focus: rgba(155,107,255,0.5);
    }

    body.theme-void {
      --bg:#000000;
      --text:#dcdcdc;
      --dim:#9a9a9a;
      --star:#ffffff;
      --glow1: rgba(255,255,255,0.9);
      --glow2: rgba(255,255,255,0.35);
      --glow3: rgba(255,255,255,0.08);
      --menu-bg: rgba(255,255,255,0.03);
      --link-bg: rgba(255,255,255,0.02);
      --link-border: rgba(255,255,255,0.06);
      --accent:#8be6ff;
      --search-bg: rgba(10,10,12,0.6);
      --search-border: rgba(139,230,255,0.14);
      --search-focus: rgba(139,230,255,0.4);
    }

    body.theme-emerald {
      --bg:#00120a;
      --text:#eafff2;
      --dim:#bfeed1;
      --star:#bfffda;
      --glow1: rgba(190,255,210,0.9);
      --glow2: rgba(0,200,120,0.32);
      --glow3: rgba(0,150,90,0.08);
      --menu-bg: rgba(0,200,120,0.06);
      --link-bg: rgba(0,200,120,0.03);
      --link-border: rgba(0,200,120,0.12);
      --accent:#00ffa2;
      --search-bg: rgba(4,10,8,0.6);
      --search-border: rgba(0,200,120,0.22);
      --search-focus: rgba(0,200,120,0.44);
    }

    body.theme-crimson {
      --bg:#120005;
      --text:#ffdfe6;
      --dim:#f7b7c0;
      --star:#ffd7e2;
      --glow1: rgba(255,210,220,0.9);
      --glow2: rgba(255,80,120,0.28);
      --glow3: rgba(180,40,70,0.06);
      --menu-bg: rgba(255,80,120,0.04);
      --link-bg: rgba(255,80,120,0.02);
      --link-border: rgba(255,80,120,0.12);
      --accent:#ff6b9b;
      --search-bg: rgba(20,6,8,0.6);
      --search-border: rgba(255,80,120,0.2);
      --search-focus: rgba(255,80,120,0.42);
    }

    body.theme-solar {
      --bg:#0b0a03;
      --text:#fff8e6;
      --dim:#ffeab2;
      --star:#fff1c7;
      --glow1: rgba(255,235,170,0.9);
      --glow2: rgba(255,150,40,0.26);
      --glow3: rgba(200,110,20,0.06);
      --menu-bg: rgba(255,180,60,0.04);
      --link-bg: rgba(255,180,60,0.02);
      --link-border: rgba(255,180,60,0.12);
      --accent:#ffb84d;
      --search-bg: rgba(22,18,8,0.6);
      --search-border: rgba(255,180,60,0.18);
      --search-focus: rgba(255,180,60,0.38);
    }

    body.theme-aurora {
      --bg:#001218;
      --text:#eafcff;
      --dim:#bfe7f1;
      --star:#c7fff8;
      --glow1: rgba(200,255,245,0.95);
      --glow2: rgba(90,230,200,0.3);
      --glow3: rgba(60,180,160,0.08);
      --menu-bg: rgba(60,200,180,0.04);
      --link-bg: rgba(60,200,180,0.02);
      --link-border: rgba(60,200,180,0.12);
      --accent:#7df7e5;
      --search-bg: rgba(6,12,13,0.6);
      --search-border: rgba(125,247,229,0.18);
      --search-focus: rgba(125,247,229,0.42);
    }

    body.theme-galactic {
      --bg:#001028;
      --text:#e8f7ff;
      --dim:#bcdff5;
      --star:#dff7ff;
      --glow1: rgba(220,250,255,0.95);
      --glow2: rgba(0,150,255,0.28);
      --glow3: rgba(0,80,160,0.06);
      --menu-bg: rgba(0,150,255,0.04);
      --link-bg: rgba(0,150,255,0.02);
      --link-border: rgba(0,150,255,0.12);
      --accent:#4fd1ff;
      --search-bg: rgba(8,12,22,0.6);
      --search-border: rgba(79,209,255,0.18);
      --search-focus: rgba(79,209,255,0.38);
    }

    body.theme-vapor {
      --bg:#110018;
      --text:#ffeefc;
      --dim:#ffd9f7;
      --star:#ffd9fc;
      --glow1: rgba(255,210,245,0.92);
      --glow2: rgba(255,120,200,0.26);
      --glow3: rgba(160,60,120,0.06);
      --menu-bg: rgba(255,120,200,0.04);
      --link-bg: rgba(255,120,200,0.02);
      --link-border: rgba(255,120,200,0.12);
      --accent:#ff86d8;
      --search-bg: rgba(18,8,20,0.6);
      --search-border: rgba(255,120,200,0.18);
      --search-focus: rgba(255,120,200,0.36);
    }

    body.theme-silver {
      --bg:#0f1112;
      --text:#f5f7f8;
      --dim:#bfc6c9;
      --star:#ffffff;
      --glow1: rgba(255,255,255,0.9);
      --glow2: rgba(220,220,220,0.26);
      --glow3: rgba(200,200,200,0.06);
      --menu-bg: rgba(255,255,255,0.03);
      --link-bg: rgba(255,255,255,0.02);
      --link-border: rgba(255,255,255,0.08);
      --accent:#aab3ba;
      --search-bg: rgba(18,20,24,0.5);
      --search-border: rgba(170,179,186,0.12);
      --search-focus: rgba(170,179,186,0.28);
    }

    /* lightweight base layout */
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow: hidden;
      position: relative;
      cursor: default;
      transition: background 0.6s ease, color 0.3s ease;
    }
    #stars { position:fixed; inset:0; pointer-events:none; z-index:1; }
    .star {
      position:absolute;
      background:var(--star);
      border-radius:50%;
      box-shadow:0 0 10px var(--glow1),0 0 24px var(--glow2),0 0 50px var(--glow3);
      will-change:transform;
      opacity:0;
      animation:appear 1.8s forwards ease-out;
      animation-delay:calc(var(--delay)*0.06s);
    }
    @keyframes appear { to { opacity: var(--base-opacity, 0.8); } }

    .screen {
      position:relative;
      z-index:10;
      min-height:100vh;
      padding:2rem;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
      opacity:0;
      animation:fadeIn 1.8s .3s forwards ease-out;
    }
    @keyframes fadeIn { to { opacity:1; } }
    .hidden { display:none!important; }
    .big-star {
      width:260px;height:260px;margin-bottom:2.5rem;
      background:var(--star);
      clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
      box-shadow:0 0 90px var(--glow1),0 0 180px var(--glow2),0 0 320px var(--glow3);
      animation:bigGlow 14s infinite ease-in-out,pulseLight 4.2s infinite ease-in-out;
      transform:translateZ(0);
    }
    @keyframes bigGlow {
      0%,100%{box-shadow:0 0 90px var(--glow1),0 0 180px var(--glow2),0 0 320px var(--glow3);}
      50%{box-shadow:0 0 150px var(--glow1),0 0 300px var(--glow2),0 0 520px var(--glow3);}
    }
    @keyframes pulseLight {
      0%,100%{transform:scale(1);box-shadow:0 0 90px var(--glow1),0 0 180px var(--glow2),0 0 320px var(--glow3);}
      50%{transform:scale(1.07);box-shadow:0 0 140px var(--glow1),0 0 280px var(--glow2),0 0 480px var(--glow3);}
    }
    h1 { font-size:6rem; font-weight:800; letter-spacing:-.07em; margin-bottom:.6rem; text-shadow:0 0 80px rgba(255,255,255,.15); }
    h2 { font-size:3rem; margin:3rem 0 2rem; }
    .tagline { font-size:1.9rem; color:var(--dim); margin-bottom:4rem; font-weight:300; }

    .btn, .back-btn {
      padding:1rem 2.5rem;
      font-size:1.15rem;
      border-radius:999px;
      cursor:pointer;
      transition:all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin:0 .5rem;
      background:var(--text);
      color:var(--bg);
      border:none;
      box-shadow:var(--btn-base-glow);
      transform:translateY(0);
    }
    .btn:hover, .back-btn:hover {
      transform:translateY(-8px);
      box-shadow:var(--btn-hover-glow);
    }

    .search-wrapper {
      position:relative;
      width:100%;
      max-width:720px;
      margin:0 auto 2.2rem;
    }
    .modern-search {
      width:100%;
      padding:1.3rem 4.5rem 1.3rem 1.6rem;
      font-size:1.18rem;
      background:var(--search-bg);
      border:1px solid var(--search-border);
      border-radius:22px;
      color:var(--text);
      outline:none;
      transition:all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      backdrop-filter:blur(16px);
      box-shadow:0 10px 40px rgba(0,0,0,0.45);
    }
    .modern-search:focus {
      border-color:var(--search-focus);
      box-shadow:0 0 0 5px var(--search-focus);
      transform:scale(1.015);
    }
    .modern-search::placeholder {
      color:#bbb;
      opacity:0.75;
      transition:opacity 0.4s ease;
    }
    .modern-search:focus::placeholder {
      opacity:0.45;
    }
    .clear-search {
      position:absolute;
      right:18px;
      top:50%;
      transform:translateY(-50%);
      background:rgba(255,255,255,0.08);
      color:var(--accent);
      border:none;
      border-radius:50%;
      width:34px;
      height:34px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      opacity:0;
      pointer-events:none;
      transition:all 0.25s ease;
      font-size:1.5rem;
      font-weight:bold;
      backdrop-filter:blur(10px);
    }
    .clear-search.visible {
      opacity:1;
      pointer-events:auto;
    }
    .clear-search:hover {
      background:rgba(255,255,255,0.2);
      transform:translateY(-50%) scale(1.18);
    }

    .menu {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:1.6rem;
      max-width:1200px;
      width:100%;
      margin:1rem 0 2rem;
      align-items:start;
    }
    .menu-btn {
      padding:1.3rem 2.2rem;
      font-size:1.45rem;
      background:var(--menu-bg);
      color:var(--text);
      border:1px solid var(--link-border);
      border-radius:14px;
      transition:all .3s ease;
      cursor:pointer;
    }
    .menu-btn:hover {
      background:rgba(255,255,255,.05);
      box-shadow:0 0 35px rgba(255,255,255,.06);
      transform:translateY(-6px);
    }
    .menu-btn.hidden {
      display:none !important;
    }

    .links {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:1.2rem;
      max-width:1200px;
      width:100%;
    }
    .link.hidden { display:none !important; }
    .link {
      padding:1.3rem;
      background:var(--link-bg);
      border:1px solid var(--link-border);
      border-radius:10px;
      text-decoration:none;
      color:var(--text);
      transition:all .3s ease;
      font-size:1.15rem;
      text-align:center;
    }
    .link:hover {
      background:rgba(255,255,255,.04);
      box-shadow:0 0 30px rgba(255,255,255,.06);
      transform:translateY(-4px);
    }

    /* Theme selector inside menu (no absolute positioning) */
    .theme-selector {
      margin:0 0 1rem;
      width:100%;
      display:flex;
      justify-content:flex-end;
      align-items:center;
      gap:0.8rem;
    }
    .theme-selector label { color:var(--dim); font-size:0.95rem; }
    .theme-selector select {
      background:transparent;
      color:var(--text);
      border:1px solid var(--link-border);
      padding:0.45rem 0.7rem;
      border-radius:8px;
      font-size:0.95rem;
      cursor:pointer;
      outline:none;
    }

    .category-controls {
      display:flex;
      justify-content:center;
      gap:1rem;
      margin:2.5rem 0 1.5rem;
      flex-wrap:wrap;
    }

    /* credits */
    .credits {
      max-width:900px;
      text-align:left;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:2rem;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.06);
      box-shadow:0 20px 60px rgba(0,0,0,0.6);
    }
    .credits h3 { margin-bottom:0.4rem; font-size:1.3rem; }
    .credits p, .credits li { color:var(--dim); line-height:1.6; }

    @media (max-width:768px) {
      h1 { font-size:4.8rem; }
      .big-star { width:220px; height:220px; }
      .tagline { font-size:1.7rem; }
      .search-wrapper { max-width:100%; }
      .category-controls { flex-direction:column; gap:1rem; }
      .menu { grid-template-columns:1fr; }
      .links { grid-template-columns:1fr; }
      .theme-selector { justify-content:center; }
    }
  </style>
</head>
<body>
  <div id="stars"></div>

  <div class="screen" id="landing">
    <div class="big-star"></div>
    <h1>STARLINK</h1>
    <p class="tagline">By: Gunnar Booth</p>
    <button id="get-started" class="btn">Get Started</button>
  </div>

  <div class="screen hidden" id="menu">
    <!-- Theme selector moved into menu as inline element -->
    <div class="theme-selector" aria-hidden="false">
      <label for="theme-select">Theme:</label>
      <select id="theme-select" aria-label="Select theme">
        <option value="cosmic">Cosmic (default)</option>
        <option value="neon">Neon Cyber</option>
        <option value="purple">Midnight Purple</option>
        <option value="void">Void Black</option>
        <option value="emerald">Emerald Glow</option>
        <option value="crimson">Crimson Pulse</option>
        <option value="solar">Solar Flare</option>
        <option value="aurora">Aurora Borealis</option>
        <option value="galactic">Galactic Blue</option>
        <option value="vapor">Retro Vaporwave</option>
        <option value="silver">Monochrome Silver</option>
        <option value="candy">Candy Neon</option>
        <option value="toxic">Toxic Green</option>
        <option value="ocean">Deep Ocean</option>
        <option value="golden">Golden Hour</option>
        <option value="lavender">Lavender Dream</option>
        <option value="blood">Blood Moon</option>
        <option value="ice">Ice Cold</option>
        <option value="violet">Electric Violet</option>
        <option value="desert">Desert Sunset</option>
        <option value="forest">Forest Night</option>
        <option value="cherry">Cherry Blossom</option>
        <option value="sunset">Sunset Glow</option>
        <option value="lime">Electric Lime</option>
      </select>
    </div>

    <h2>Choose a Category</h2>
    <div class="search-wrapper">
      <input type="text" id="menu-search" class="modern-search" placeholder="Search categories..." autocomplete="off">
      <button class="clear-search" aria-label="Clear search">×</button>
    </div>
    <div class="menu" id="menu-items">
      <button class="menu-btn" data-category="proxy">Proxy Sites</button>
      <button class="menu-btn" data-category="games">Game Sites</button>
      <button class="menu-btn" data-category="music">Music Sites</button>
      <button class="menu-btn" data-category="movies">Movie Sites</button>
      <button class="menu-btn" data-category="ai">AI Sites</button>
      <button class="menu-btn" data-action="credits">Credits</button>
    </div>
    <div class="category-controls">
      <button id="back-to-landing" class="btn back-to-landing-btn">Back to Landing</button>
    </div>
  </div>

  <div class="screen hidden category-container" id="category-view">
    <div id="proxy" class="category hidden">
      <h2>Proxy Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="proxy-search" class="modern-search" placeholder="Search proxies..." autocomplete="off">
        <button class="clear-search" aria-label="Clear search">×</button>
      </div>
      <div class="links" id="proxy-links">
        <a href="https://ali-in-a-new-dress.global.ssl.fastly.net/" target="_blank" class="link">Boredom V2</a>
        <a href="https://brightenglish.flightbooker.co.za/" target="_blank" class="link">Shadow</a>
        <a href="https://learn-2-code.surge.sh/" target="_blank" class="link">Nebulo</a>
        <a href="https://travelingagent.thepresenttraveller.com/" target="_blank" class="link">Glint</a>
      </div>
      <div class="category-controls">
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="games" class="category hidden">
      <h2>Game Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="games-search" class="modern-search" placeholder="Search games..." autocomplete="off">
        <button class="clear-search" aria-label="Clear search">×</button>
      </div>
      <div class="links" id="games-links">
        <a href="https://imadejptr.github.io/" target="_blank" class="link">imadejptr</a>
        <a href="https://theorytest.help/" target="_blank" class="link">The Marz Library</a>
        <a href="https://algebra.learnnexus.one/" target="_blank" class="link">Reds Exploit Corner</a>
        <a href="https://www.msn.com/en-xl/play" target="_blank" class="link">MSN</a>
        <a href="https://neal.fun/" target="_blank" class="link">Neal.fun</a>
        <a href="https://www.twoplayergames.org/" target="_blank" class="link">TwoPlayerGames</a>
        <a href="https://bobzgames.github.io/GBA/" target="_blank" class="link">GBA Emulator</a>
      </div>
      <div class="category-controls">
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="music" class="category hidden">
      <h2>Music Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="music-search" class="modern-search" placeholder="Search music..." autocomplete="off">
        <button class="clear-search" aria-label="Clear search">×</button>
      </div>
      <div class="links" id="music-links">
        <a href="https://playlistsound.com/" target="_blank" class="link">PlaylistSound</a>
        <a href="https://music.amazon.com/" target="_blank" class="link">Amazon Music</a>
      </div>
      <div class="category-controls">
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="movies" class="category hidden">
      <h2>Movie Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="movies-search" class="modern-search" placeholder="Search movies..." autocomplete="off">
        <button class="clear-search" aria-label="Clear search">×</button>
      </div>
      <div class="links" id="movies-links">
        <a href="https://donkey.to/" target="_blank" class="link">Donkey</a>
      </div>
      <div class="category-controls">
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="ai" class="category hidden">
      <h2>AI Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="ai-search" class="modern-search" placeholder="Search AI..." autocomplete="off">
        <button class="clear-search" aria-label="Clear search">×</button>
      </div>
      <div class="links" id="ai-links">
        <a href="https://grok.x.ai/" target="_blank" class="link">Grok</a>
        <a href="https://copilot.microsoft.com/" target="_blank" class="link">Microsoft Copilot</a>
        <a href="https://gemini.google.com/app" target="_blank" class="link">Google Gemini</a>
        <a href="https://www.perplexity.ai/" target="_blank" class="link">Perplexity AI</a>
      </div>
      <div class="category-controls">
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>
  </div>

  <div class="screen hidden" id="credits">
    <h2>Credits</h2>
    <div class="credits" role="document" aria-labelledby="credits">
      <h3>Project</h3>
      <p>STARLINK — a small curated gateway by Gunnar Booth.</p>

      <h3>Design & Development</h3>
      <ul>
        <li>Gunnar Booth — UI, animations, and site structure.</li>
      </ul>

      <h3>Special Thanks & Resources</h3>
      <ul>
        <li>Inspiration from various retro-futuristic UI designs and starfield experiments.</li>
        <li>Third-party links listed in categories are external services and are not maintained by this project.</li>
      </ul>

      <h3>License</h3>
      <p>Feel free to reuse and adapt the UI/animations. This project is provided as-is.</p>

      <div style="margin-top:1.2rem; text-align:center;">
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>
  </div>

  <script>
    // Starfield (static twinkling stars) — kept, shooting stars removed
    const container = document.getElementById('stars');
    const stars = [];
    const mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
    const count = 220;
    for (let i = 0; i < count; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      const size = 1.0 + Math.random() * 3.5;
      star.style.width = size + 'px';
      star.style.height = size + 'px';
      const baseOpacity = 0.45 + Math.random() * 0.4;
      star.style.setProperty('--base-opacity', baseOpacity);
      star.style.setProperty('--delay', i);
      star.baseX = Math.random();
      star.baseY = Math.random();
      star.offsetX = 0;
      star.offsetY = 0;
      star.vx = (Math.random() - 0.5) * 0.12;
      star.vy = (Math.random() - 0.5) * 0.12;
      star.damping = 0.935 + Math.random() * 0.03;
      container.appendChild(star);
      stars.push(star);
    }
    window.addEventListener('mousemove', e => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    });
    function animate() {
      const w = window.innerWidth;
      const h = window.innerHeight;
      stars.forEach(star => {
        let targetX = star.baseX * w;
        let targetY = star.baseY * h;
        const dx = mouse.x - targetX;
        const dy = mouse.y - targetY;
        const dist = Math.hypot(dx, dy) || 1;
        const force = Math.min(80 / dist, 1.2);
        star.vx += (dx / dist) * force * 0.085;
        star.vy += (dy / dist) * force * 0.085;
        star.vx += (Math.random() - 0.5) * 0.006;
        star.vy += (Math.random() - 0.5) * 0.006;
        star.vx *= star.damping;
        star.vy *= star.damping;
        star.offsetX += star.vx;
        star.offsetY += star.vy;
        if (Math.abs(star.offsetX) > w * 1.2) star.offsetX *= 0.35;
        if (Math.abs(star.offsetY) > h * 1.2) star.offsetY *= 0.35;
        const x = targetX + star.offsetX;
        const y = targetY + star.offsetY;
        star.style.transform = `translate(${x}px, ${y}px)`;
      });
      requestAnimationFrame(animate);
    }
    animate();

    // Theme handling: apply theme classes and persist choice
    (function themeSetup() {
      const themeSelect = document.getElementById('theme-select');
      // Collect available theme names from options dynamically
      const available = Array.from(themeSelect.options).map(o => o.value);

      function applyTheme(name) {
        // sanitize
        if (!available.includes(name)) name = 'cosmic';
        // remove any theme- class we might have added previously
        available.forEach(t => document.body.classList.remove('theme-' + t));
        document.body.classList.add('theme-' + name);
        try { localStorage.setItem('starlink-theme', name); } catch (e) {}
      }

      // initialize from localStorage or default
      let saved = 'cosmic';
      try { saved = localStorage.getItem('starlink-theme') || saved; } catch (e) {}
      if (!available.includes(saved)) saved = 'cosmic';
      themeSelect.value = saved;
      applyTheme(saved);

      themeSelect.addEventListener('change', (e) => {
        applyTheme(e.target.value);
      });
    })();

    // Navigation
    const landing = document.getElementById('landing');
    const menu = document.getElementById('menu');
    const categoryView = document.getElementById('category-view');
    const creditsView = document.getElementById('credits');

    document.getElementById('get-started').addEventListener('click', () => {
      landing.classList.add('hidden');
      menu.classList.remove('hidden');
    });

    // menu button handling (support categories and actions like credits)
    document.querySelectorAll('.menu-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const catId = btn.dataset.category;
        const action = btn.dataset.action;
        if (action === 'credits') {
          // open credits screen
          menu.classList.add('hidden');
          creditsView.classList.remove('hidden');
          // hide all category panels (just in case)
          document.querySelectorAll('.category').forEach(cat => cat.classList.add('hidden'));
          return;
        }
        if (!catId) return;
        menu.classList.add('hidden');
        categoryView.classList.remove('hidden');
        document.querySelectorAll('.category').forEach(cat => cat.classList.add('hidden'));
        const el = document.getElementById(catId);
        if (el) el.classList.remove('hidden');
      });
    });

    // back buttons in categories and credits
    document.querySelectorAll('.back-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        // if credits is open, return to menu
        if (!creditsView.classList.contains('hidden')) {
          creditsView.classList.add('hidden');
          menu.classList.remove('hidden');
          return;
        }
        categoryView.classList.add('hidden');
        menu.classList.remove('hidden');
      });
    });

    document.getElementById('back-to-landing').addEventListener('click', () => {
      menu.classList.add('hidden');
      landing.classList.remove('hidden');
    });

    // Search logic for all search bars
    document.addEventListener('DOMContentLoaded', () => {
      // Category searches
      const categories = [
        { search: 'proxy-search', container: 'proxy-links', itemClass: '.link' },
        { search: 'games-search', container: 'games-links', itemClass: '.link' },
        { search: 'music-search', container: 'music-links', itemClass: '.link' },
        { search: 'movies-search', container: 'movies-links', itemClass: '.link' },
        { search: 'ai-search', container: 'ai-links', itemClass: '.link' }
      ];

      categories.forEach(cat => {
        const input = document.getElementById(cat.search);
        const clear = document.querySelector(`#${cat.search.replace('-search','')} .clear-search`);
        const containerEl = document.getElementById(cat.container);

        if (!input || !containerEl) return;

        input.addEventListener('input', () => {
          const term = input.value.trim().toLowerCase();
          if (clear) clear.classList.toggle('visible', term.length > 0);

          const items = containerEl.querySelectorAll(cat.itemClass);
          items.forEach(item => {
            const text = item.textContent.toLowerCase();
            item.classList.toggle('hidden', term !== '' && !text.includes(term));
          });
        });

        if (clear) {
          clear.addEventListener('click', () => {
            input.value = '';
            clear.classList.remove('visible');
            const items = containerEl.querySelectorAll(cat.itemClass);
            items.forEach(item => item.classList.remove('hidden'));
            input.focus();
          });
        }
      });

      // Menu / category name search
      const menuInput = document.getElementById('menu-search');
      const menuClear = document.querySelector('#menu .clear-search');
      const menuContainer = document.getElementById('menu-items');

      if (menuInput && menuContainer) {
        menuInput.addEventListener('input', () => {
          const term = menuInput.value.trim().toLowerCase();
          if (menuClear) menuClear.classList.toggle('visible', term.length > 0);

          const buttons = menuContainer.querySelectorAll('.menu-btn');
          buttons.forEach(btn => {
            const text = btn.textContent.toLowerCase();
            btn.classList.toggle('hidden', term !== '' && !text.includes(term));
          });
        });

        if (menuClear) {
          menuClear.addEventListener('click', () => {
            menuInput.value = '';
            menuClear.classList.remove('visible');
            const buttons = menuContainer.querySelectorAll('.menu-btn');
            buttons.forEach(btn => btn.classList.remove('hidden'));
            menuInput.focus();
          });
        }
      }
    });
  </script>
</body>
</html>
